
<section class="Section Section--spacingNormal availability_at_stores animate show_up" id="section-{{ section.id }}" data-section-id="{{ section.id }}">
  <div class="Container">
    <div class="available_logo {% if  section.settings.section_half != blank %} section_half{% endif %}">
      <div class="available_logo_left text_center">
        {% if section.settings.left_title != blank %}
          <header class="SectionHeader SectionHeader--center text_center">
            <h2 class="SectionHeader__Heading Heading u-h1 heading_small animate show_up ad-1">{{ section.settings.left_title }}</h2>
          </header>
        {% endif %}
        <ul class="available_logo_slider slick"  data-slick='{
         "dots": true,
         "arrows": false,
         "draggable": true,
         "slidesToShow": 4,
         "slidesToScroll": 1,
         "autoPlay": true,
          "autoplaySpeed": 1000
         }'>
        {% for block in section.blocks %}
          {% if block.type == 'left-column' %}
            {% if block.settings.logo != blank %}
              <li class=""><figure>{% if block.settings.link != blank %}<a href="{{ block.settings.link }}">{% endif %}
                 {%- capture supported_sizes -%}{%- render 'image-size', sizes: '200,300,400,600,800,900,1000,1200', image: block.settings.logo -%}{%- endcapture -%}

          {%- assign image_url = block.settings.logo | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
              <img class="Image--lazyLoad"  data-src="{{ image_url }}" data-widths="[{{ supported_sizes }}]" data-sizes="auto" alt="{{ block.settings.logo.alt | escape }}" data-media-id="{{ block.settings.logo.id }}" />
            {% if block.settings.link != blank %}</a>{% endif %}</figure>
              </li>
            {% endif %}
          {% endif %}
        {% endfor %}
      </ul>
      </div>
      <div class="available_logo_right text_center">
        {% if section.settings.right_title != blank %}
          <header class="SectionHeader SectionHeader--center text_center">
            <h2 class="SectionHeader__Heading Heading u-h1 heading_small animate show_up ad-1">{{ section.settings.right_title }}</h2>
          </header>
        {% endif %}

        {% if block.settings.logo != blank %}
          <ul class="available_logo_slider slick"  data-slick='{
           "dots": true,
           "arrows": false,
           "draggable": true,
           "slidesToShow": 3,
           "slidesToScroll": 1,
            "autoPlay": {{ section.settings.autoplay }}
           }'>
          {% for block in section.blocks %}
            {% if block.type == 'right-column' %}
              {% if block.settings.logo != blank %}
                <li><figure>{% if block.settings.link != blank %}<a href="{{ block.settings.link }}">{% endif %}
                   {%- capture supported_sizes -%}{%- render 'image-size', sizes: '200,300,400,600,800,900,1000,1200', image: block.settings.logo -%}{%- endcapture -%}
  
            {%- assign image_url = block.settings.logo | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                <img class="Image--lazyLoad"  data-src="{{ image_url }}" data-widths="[{{ supported_sizes }}]" data-sizes="auto" alt="{{ block.settings.logo.alt | escape }}" data-media-id="{{ block.settings.logo.id }}" />
              {% if block.settings.link != blank %}</a>{% endif %}</figure>
                </li>
              {% endif %}
            {% endif %}
          {% endfor %}
        </ul>
      {% endif %}
      </div>
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Available At Stores Logos",
    "settings": [
      {
        "type": "checkbox",
        "id": "autoplay",
        "label": "Auto rotate between slides",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "section_half",
        "label": "Show two blocks",
        "default": true
      },
      {
        "type": "text",
        "id": "left_title",
        "label": "Left Heading"
      },
      {
        "type": "text",
        "id": "right_title",
        "label": "Right Heading"
      }
    ],
    "blocks": [
      {
        "type": "left-column",
        "name": "Left Column",
        "settings": [
          {
            "type": "image_picker",
            "id": "logo",
            "label": "Logo"
          }
        ]
      },
      {
        "type": "right-column",
        "name": "Right Column",
        "settings": [
          {
            "type": "image_picker",
            "id": "logo",
            "label": "Logo"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Available At Stores Logos",
        "category": "Image"
      }
    ]
  }
{% endschema %}
